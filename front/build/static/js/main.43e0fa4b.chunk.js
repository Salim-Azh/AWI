(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{29:function(e,t,n){"use strict";n.r(t),n.d(t,"Games",(function(){return a})),n.d(t,"Editors",(function(){return i})),n.d(t,"Festivals",(function(){return r})),n.d(t,"Reservations",(function(){return s})),n.d(t,"Bills",(function(){return c})),n.d(t,"Exhibitors",(function(){return o})),n.d(t,"Zones",(function(){return d})),n.d(t,"login",(function(){return h}));var a="/api/games",i="/api/editors",r="/api/festivals",s="/api/festivals/reservations",c="/api/bills",o="/api/exhibitors",d="/api/zones",h="/api/users/login"},35:function(e,t,n){"use strict";n.r(t),n.d(t,"getGamesFromDB",(function(){return d})),n.d(t,"getGameFromDB",(function(){return h})),n.d(t,"getFestivalGames",(function(){return l})),n.d(t,"createGame",(function(){return u})),n.d(t,"createGameFromEditor",(function(){return j})),n.d(t,"createGames",(function(){return b})),n.d(t,"filterGamesByName",(function(){return m})),n.d(t,"filterGamesByCategory",(function(){return f})),n.d(t,"filterGamesByZone",(function(){return p})),n.d(t,"filterGamesByState",(function(){return O})),n.d(t,"filterGamesByEditor",(function(){return x})),n.d(t,"addGames",(function(){return v})),n.d(t,"setHandleDelete",(function(){return g})),n.d(t,"deleteGame",(function(){return _})),n.d(t,"updateGame",(function(){return C}));var a=n(78),i=n(0);var r=function(e){var t="";return e.editor&&(t=e.editor),e.game.game?Object(i.jsxs)("tr",{id:e.game.game._id,children:[Object(i.jsx)("td",{children:Object(i.jsx)(a.a.Link,{href:"/nav/jeu/"+e.game.game._id,children:e.game.game.name})}),Object(i.jsx)("td",{children:t}),Object(i.jsx)("td",{children:e.game.state}),Object(i.jsx)("td",{children:e.game.game.category}),Object(i.jsx)("td",{children:e.game.game.duration}),Object(i.jsx)("td",{children:e.game.game.min_yearold}),Object(i.jsx)("td",{}),Object(i.jsx)("td",{children:Object(i.jsx)("input",{type:"button",onClick:e.deleteGame,name:e.game.game._id,value:"\ud83d\uddd1"})})]}):Object(i.jsxs)("tr",{id:e.game._id,children:[Object(i.jsx)("td",{children:Object(i.jsx)(a.a.Link,{href:"/nav/jeu/"+e.game._id,children:e.game.name})}),Object(i.jsx)("td",{children:t}),Object(i.jsx)("td",{children:e.game.state}),Object(i.jsx)("td",{children:e.game.category}),Object(i.jsx)("td",{children:e.game.duration}),Object(i.jsx)("td",{children:e.game.min_yearold}),Object(i.jsx)("td",{}),Object(i.jsx)("td",{children:Object(i.jsx)("input",{type:"button",onClick:e.deleteGame,name:e.game._id,value:"\ud83d\uddd1"})})]})};var s,c=function(e){return Object(i.jsxs)("tr",{id:e.game._id,children:[Object(i.jsx)("td",{children:Object(i.jsx)(a.a.Link,{href:"/jeu/"+e.game._id,children:e.game.name})}),Object(i.jsx)("td",{children:e.game.category}),Object(i.jsx)("td",{children:e.game.duration}),Object(i.jsx)("td",{children:e.game.min_yearold}),Object(i.jsx)("td",{children:Object(i.jsx)("input",{type:"button",onClick:e.deleteGame,name:e.game._id,value:"\ud83d\uddd1"})})]})},o=n(29);function d(){return fetch(o.Games).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e.stack),console.log(e.message)}))}function h(e){return fetch(o.Games+"/"+e).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e.stack),console.log(e.message)}))}function l(){return fetch(o.Festivals+"/games").then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e.stack),console.log(e.message)}))}function u(e,t){return t?Object(i.jsx)(r,{game:e,editor:e.editor,deleteGame:s},e._id):Object(i.jsx)(r,{game:e,editor:e.editor,deleteGame:_},e._id)}function j(e){return Object(i.jsx)(c,{game:e,deleteGame:_},e._id)}function b(e){var t=[];if(e)return e.map((function(e){e&&t.push(u(e,!0))})),t}function m(e,t){var n=[];if(e)return e.map((function(e){e.name?e&&e.name.toLowerCase().includes(t)&&n.push(u(e)):e&&e.game.name.toLowerCase().includes(t)&&n.push(u(e))})),n}function f(e,t){var n=[];if(e)return e.map((function(e){e.name?e&&e.category.toLowerCase().includes(t)&&n.push(u(e)):e&&e.game.category.toLowerCase().includes(t)&&n.push(u(e))})),n}function p(e,t){var n=[];if(e)return e.map((function(e){e&&e.zone.toLowerCase().includes(t)&&n.push(u(e))})),n}function O(e,t){var n=[];if(e)return e.map((function(e){e&&e.state.toLowerCase().includes(t)&&n.push(u(e))})),n}function x(e,t){var n=[];if(e)return e.map((function(e){e&&e.editor.name.toLowerCase().includes(t)&&n.push(u(e))})),n}function v(e){var t={headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)};return fetch(o.Games,t)}function g(e){s=e}function _(e){var t=e.target.name;return fetch(o.Games+"/"+t,{method:"DELETE"}).then((function(){return s(t)}))}function C(e){var t={headers:{"Content-Type":"application/json"},method:"PUT",body:JSON.stringify(e)};return fetch(o.Games+"/"+e._id,t)}},36:function(e,t,n){"use strict";n.r(t),n.d(t,"getEditorsFromDB",(function(){return h})),n.d(t,"getEditorFromDB",(function(){return l})),n.d(t,"getGamesFromEditor",(function(){return u})),n.d(t,"filterEditorByName",(function(){return b})),n.d(t,"filterEditorByEditorOnly",(function(){return m})),n.d(t,"filterEditorByExhibitorOnly",(function(){return f})),n.d(t,"addEditor",(function(){return O})),n.d(t,"setHandleDelete",(function(){return x})),n.d(t,"deleteEditor",(function(){return v})),n.d(t,"setHandleUpdate",(function(){return g})),n.d(t,"updateEditorState",(function(){return _})),n.d(t,"updateEditor",(function(){return C}));var a=n(13),i=n(78),r=n(0);var s,c,o=function(e){return Object(r.jsxs)("tr",{id:e._id,children:[Object(r.jsx)("td",{children:Object(r.jsx)(i.a.Link,{href:"/nav/editeur/"+e._id,children:e.name})}),Object(r.jsx)("td",{children:e.state}),Object(r.jsx)("td",{children:e.contacts[0]}),Object(r.jsx)("td",{children:Object(r.jsx)("input",{type:"checkbox",checked:e.isEditor,onChange:e.handleEditor,id:e._id,name:"isEditor"})}),Object(r.jsx)("td",{children:Object(r.jsx)("input",{type:"checkbox",checked:e.isExhibitor,onChange:e.handleEditor,id:e._id,name:"isExhibitor"})}),Object(r.jsx)("td",{children:Object(r.jsx)("input",{type:"checkbox",checked:e.isPotential,onChange:e.handleEditor,id:e._id,name:"isPotential"})}),Object(r.jsx)("td",{children:Object(r.jsx)("input",{type:"button",onClick:e.deleteEditor,name:e._id,value:"\ud83d\uddd1"})})]})},d=n(29);function h(){return fetch(d.Editors).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e.stack),console.log(e.message)}))}function l(e){return fetch(d.Editors+"/"+e).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e.stack),console.log(e.message)}))}function u(e){return fetch(d.Editors+"/"+e+"/games/").then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e.stack),console.log(e.message)}))}function j(e){return Object(r.jsx)(o,{_id:e._id,name:e.name,contacts:e.contacts,isEditor:e.isEditor,isExhibitor:e.isExhibitor,isPotential:e.isPotential,deleteEditor:v,handleEditor:_},e._id)}function b(e,t){var n=[];if(e)return e.map((function(e){e&&e.name.toLowerCase().includes(t)&&n.push(j(e))})),n}function m(e){var t=[];if(e)return e.map((function(e){e&&e.isEditor&&t.push(e)})),p(t)}function f(e){var t=[];if(e)return e.map((function(e){e&&e.isExhibitor&&t.push(e)})),p(t)}function p(e){var t=[];if(e)return e.map((function(e){e&&e.isPotential&&t.push(j(e))})),t}function O(e){var t={headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)};return fetch(d.Editors,t)}function x(e){s=e}function v(e){var t=e.target.name;fetch(d.Editors+"/"+t,{method:"DELETE"}).then((function(){return s(t)}))}function g(e){c=e}function _(e){var t=e.target.id,n=e.target.checked,i=e.target.name,r=Object(a.a)({},i,n),s={headers:{"Content-Type":"application/json"},method:"PUT",body:JSON.stringify(r)};return fetch(d.Editors+"/"+t,s).then((function(){return c(t,i,n)}))}function C(e){var t={headers:{"Content-Type":"application/json"},method:"PUT",body:JSON.stringify(e)};return fetch(d.Editors+"/"+e._id,t)}},46:function(e,t,n){"use strict";n.r(t),n.d(t,"getReservationsFromDB",(function(){return u})),n.d(t,"getReservationFromDB",(function(){return j})),n.d(t,"filterReservationByName",(function(){return b})),n.d(t,"filterReservationByState",(function(){return m})),n.d(t,"filterEditorByVolunteer",(function(){return f})),n.d(t,"filterEditorByEditorPresent",(function(){return p})),n.d(t,"filterEditorByReportSent",(function(){return O})),n.d(t,"mapCreateReservation",(function(){return x})),n.d(t,"_addHandler",(function(){return c})),n.d(t,"setAddHandler",(function(){return v})),n.d(t,"addReservation",(function(){return g})),n.d(t,"setHandleDelete",(function(){return _})),n.d(t,"deleteReservation",(function(){return C})),n.d(t,"setUpdateHandlerCheck",(function(){return y})),n.d(t,"updateReservation",(function(){return E}));var a=n(13),i=n(78),r=n(15),s=n(0);var c,o,d,h=function(e){var t=e.reservation.nb_t_premium?e.reservation.nb_t_premium:0+e.reservation.nb_t_standard?e.reservation.nb_t_standard:0+e.reservation.nb_t_low?e.reservation.nb_t_low:0;t||(t=0);var n=e.reservation.nb_sm_premium?e.reservation.nb_sm_premium:0+e.reservation.nb_sm_standard?e.reservation.nb_sm_standard:0+e.reservation.nb_sm_low?e.reservation.nb_sm_low:0;return n||(n=0),Object(s.jsxs)("tr",{id:e.reservation._id,children:[Object(s.jsx)("td",{children:Object(s.jsx)(i.a.Link,{href:"/nav/reservation/"+e.reservation._id,children:e.exhibitor.name})}),Object(s.jsx)("td",{children:e.reservation.comment}),Object(s.jsx)("td",{children:e.reservation.state}),Object(s.jsx)("td",{children:Object(s.jsx)("input",{type:"checkbox",checked:e.reservation.need_volunteer,onChange:e.handleChange,id:e.reservation._id,name:"need_volunteer"})}),Object(s.jsx)("td",{children:Object(s.jsx)("input",{type:"checkbox",checked:e.reservation.isEditorHere,onChange:e.handleChange,id:e.reservation._id,name:"isEditorHere"})}),Object(s.jsx)("td",{children:Object(s.jsx)("input",{type:"checkbox",checked:e.reservation.reportSent,onChange:e.handleChange,id:e.reservation._id,name:"reportSent"})}),Object(s.jsx)("td",{children:t}),Object(s.jsx)("td",{children:n}),Object(s.jsxs)("td",{children:[e.reservation.price," \u20ac"]}),Object(s.jsx)("td",{children:Object(s.jsx)(r.a,{variant:"warning",onClick:e.handleDelete,name:e.reservation._id,children:"\ud83d\uddd1"})})]})},l=n(29);function u(){return fetch(l.Reservations).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e.stack),console.log(e.message)}))}function j(e){return fetch(l.Reservations+"/"+e).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e.stack),console.log(e.message)}))}function b(e,t){var n=[];if(e)return e.map((function(e){e.exhibitor&&e&&e.exhibitor.name.toLowerCase().includes(t)&&n.push(e)})),n}function m(e,t){var n=[];if(e)return e.map((function(e){e.exhibitor&&e&&e.reservation.state.toLowerCase().includes(t)&&n.push(e)})),n}function f(e){var t=[];if(e)return e.map((function(e){e.reservation&&e&&e.reservation.need_volunteer&&t.push(e)})),t}function p(e){var t=[];if(e)return e.map((function(e){e.reservation&&e&&e.reservation.isEditorHere&&t.push(e)})),t}function O(e){var t=[];if(e)return e.map((function(e){e.reservation&&e&&e.reservation.reportSent&&t.push(e)})),t}function x(e){return e.map((function(e){return t=e,Object(s.jsx)(h,{exhibitor:t.exhibitor,reservation:t.reservation,deleteReservation:C,handleChange:k,handleDelete:C},t.reservation._id);var t}))}function v(e){c=e}function g(e){var t={headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)};return fetch(l.Reservations,t)}function _(e){o=e}function C(e){var t=e.target.name;fetch(l.Reservations+"/"+t,{method:"DELETE"}).then((function(){return o(t)}))}function y(e){d=e}function k(e){var t=e.target.id,n=e.target.checked,i=e.target.name,r=Object(a.a)({},i,n),s={headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(r)};return fetch(l.Reservations+"/"+t,s).then((function(){return d(t,i,n)}))}function E(e){var t=e._id,n={headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)};return fetch(l.Reservations+"/"+t,n)}},63:function(e,t,n){"use strict";n.r(t),n.d(t,"getExhibitorsFromDB",(function(){return m})),n.d(t,"filterEditorByName",(function(){return p})),n.d(t,"filterEditorByPotentialOnly",(function(){return O})),n.d(t,"setHandleUpdate",(function(){return x}));var a=n(6),i=n(7),r=n(2),s=n(9),c=n(8),o=n(1),d=n(78),h=n(15),l=n(0),u=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).handleAddReservation=i.handleAddReservation.bind(Object(r.a)(i)),i}return Object(i.a)(n,[{key:"handleAddReservation",value:function(e){this.props.addReservation({exhibitor:{_id:e.target.name.split(",")[0],name:e.target.name.split(",")[1]}})}},{key:"render",value:function(){return Object(l.jsxs)("tr",{id:this.props._id,children:[Object(l.jsx)("td",{children:Object(l.jsx)(d.a.Link,{href:"/nav/editeur/"+this.props._id,children:this.props.name})}),Object(l.jsx)("td",{children:this.props.contacts[0]}),Object(l.jsx)("td",{children:Object(l.jsx)(h.a,{variant:"primary",onClick:this.handleAddReservation,name:this.props._id+","+this.props.name,children:"Cr\xe9er une r\xe9servation"})})]})}}]),n}(o.Component),j=n(29),b=n(46);function m(){return fetch(j.Exhibitors).then((function(e){return e.json()})).then((function(e){return e.exhibitors})).catch((function(e){console.log(e.stack),console.log(e.message)}))}function f(e){return Object(l.jsx)(u,{_id:e._id,name:e.name,contacts:e.contacts,addReservation:b._addHandler},e._id)}function p(e,t){var n=[];if(e)return e.map((function(e){e&&e.name.toLowerCase().includes(t)&&n.push(f(e))})),n}function O(e){var t=[];if(e)return e.map((function(e){e&&e.isPotential&&t.push(f(e))})),t}function x(e){e}},64:function(e,t,n){"use strict";n.r(t),n.d(t,"getZonesFromDB",(function(){return o})),n.d(t,"getZoneFromDB",(function(){return d})),n.d(t,"createZone",(function(){return h})),n.d(t,"filterZonesByName",(function(){return l})),n.d(t,"addZones",(function(){return u})),n.d(t,"setHandleDelete",(function(){return j})),n.d(t,"deleteZone",(function(){return b})),n.d(t,"updateZone",(function(){return m}));var a=n(78),i=n(0);var r,s=function(e){return Object(i.jsxs)("tr",{id:e.zone._id,children:[Object(i.jsx)("td",{children:Object(i.jsx)(a.a.Link,{href:"/nav/zone/"+e.zone._id,children:e.zone.label})}),Object(i.jsx)("td",{children:e.zone.sm_capacity}),Object(i.jsx)("td",{children:Object(i.jsx)("input",{type:"button",onClick:e.deleteZone,name:e.zone._id,value:"\ud83d\uddd1"})})]})},c=n(29);function o(){return fetch(c.Festivals+"/zones").then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e.stack),console.log(e.message)}))}function d(e){return fetch(c.Zones+"/"+e).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e.stack),console.log(e.message)}))}function h(e){return Object(i.jsx)(s,{zone:e,editor:e.editor,deleteZone:b},e._id)}function l(e,t){var n=[];if(e)return e.map((function(e){e&&e.label.toLowerCase().includes(t)&&n.push(h(e))})),n}function u(e){var t={headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)};return fetch(c.Zones,t)}function j(e){r=e}function b(e){var t=e.target.name;return fetch(c.Zones+"/"+t,{method:"DELETE"}).then((function(){return r(t)}))}function m(e){console.log("zone",e);var t={headers:{"Content-Type":"application/json"},method:"PUT",body:JSON.stringify(e)};return fetch(c.Zones+"/"+e._id,t)}},69:function(e,t,n){"use strict";n.r(t),n.d(t,"getFestivalsFromDB",(function(){return v})),n.d(t,"filterFestivalByName",(function(){return _})),n.d(t,"filterFestivalByYear",(function(){return C})),n.d(t,"addFestival",(function(){return y})),n.d(t,"setHandleDelete",(function(){return k})),n.d(t,"deleteFestival",(function(){return E})),n.d(t,"setHandleUpdate",(function(){return F})),n.d(t,"updateFestival",(function(){return S})),n.d(t,"updateCurrent",(function(){return w}));var a,i,r=n(13),s=n(6),c=n(7),o=n(2),d=n(9),h=n(8),l=n(1),u=n(103),j=n(97),b=n(73),m=n(15),f=n(0),p=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={_id:e.festival.f._id,nb_t_premium:e.festival.f.nb_t_premium,nb_t_standard:e.festival.f.nb_t_standard,nb_t_low:e.festival.f.nb_t_low,nb_sm_premium:e.festival.f.nb_sm_premium,nb_sm_standard:e.festival.f.nb_sm_standard,nb_sm_low:e.festival.f.nb_sm_low,premium_t_price:e.festival.f.premium_t_price,standard_t_price:e.festival.f.standard_t_price,low_t_price:e.festival.f.low_t_price,premium_sm_price:e.festival.f.premium_sm_price,standard_sm_price:e.festival.f.standard_sm_price,low_sm_price:e.festival.f.low_sm_price,is_current:e.festival.f.is_current,nb_rt_premium:e.festival.nb_rt_premium,nb_rt_standard:e.festival.nb_rt_standard,nb_rt_low:e.festival.nb_rt_low,nb_rsm_premium:e.festival.nb_rsm_premium,nb_rsm_standard:e.festival.nb_rsm_standard,nb_rsm_low:e.festival.nb_rsm_low},a.handleChange=a.handleChange.bind(Object(o.a)(a)),a.submit=a.submit.bind(Object(o.a)(a)),a.setCurrent=a.setCurrent.bind(Object(o.a)(a)),a}return Object(c.a)(n,[{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(r.a)({},n,a))}},{key:"submit",value:function(){this.props.handleUpdate(this.state)}},{key:"setCurrent",value:function(){this.props.handleUpdateCurrent({_id:this.state._id,is_current:!0}),this.setState({is_current:!0})}},{key:"render",value:function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(u.a.Body,{children:[Object(f.jsx)(u.a.Header,{children:Object(f.jsxs)(u.a.Title,{children:[this.props.festival.f.name," - ",this.props.festival.f.year]})}),Object(f.jsx)(u.a.Text,{children:Object(f.jsxs)(j.a,{children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{}),Object(f.jsx)("th",{children:"Tables"}),Object(f.jsx)("th",{children:"prix/table"}),Object(f.jsx)("th",{children:"restant"}),Object(f.jsx)("th",{children:"m\xb2"}),Object(f.jsx)("th",{children:"prix/m\xb2"}),Object(f.jsx)("th",{children:"restant"})]})}),Object(f.jsxs)("tbody",{children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Premium"}),Object(f.jsx)("td",{children:Object(f.jsx)(b.a,{as:"input",type:"text",value:this.state.nb_t_premium,onChange:this.handleChange,name:"nb_t_premium"})}),Object(f.jsx)("td",{children:Object(f.jsx)(b.a,{as:"input",type:"text",value:this.state.premium_t_price,onChange:this.handleChange,name:"premium_t_price"})}),Object(f.jsx)("td",{children:Object(f.jsx)(b.a,{as:"input",type:"text",value:this.state.nb_rt_premium+"/"+this.state.nb_t_premium,readOnly:!0})}),Object(f.jsx)("td",{children:Object(f.jsx)(b.a,{as:"input",type:"text",value:this.state.nb_sm_premium,onChange:this.handleChange,name:"nb_sm_premium"})}),Object(f.jsx)("td",{children:Object(f.jsx)(b.a,{as:"input",type:"text",value:this.state.premium_sm_price,onChange:this.handleChange,name:"premium_sm_price"})}),Object(f.jsx)("td",{children:Object(f.jsx)(b.a,{as:"input",type:"text",value:this.state.nb_rsm_premium+"/"+this.state.nb_sm_premium,readOnly:!0})})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Standard"}),Object(f.jsx)("td",{children:Object(f.jsx)(b.a,{as:"input",type:"text",value:this.state.nb_t_standard,onChange:this.handleChange,name:"nb_t_standard"})}),Object(f.jsx)("td",{children:Object(f.jsx)(b.a,{as:"input",type:"text",value:this.state.standard_t_price,onChange:this.handleChange,name:"standard_t_price"})}),Object(f.jsx)("td",{children:Object(f.jsx)(b.a,{as:"input",type:"text",value:this.state.nb_rt_standard+"/"+this.state.nb_t_standard,readOnly:!0})}),Object(f.jsx)("td",{children:Object(f.jsx)(b.a,{as:"input",type:"text",value:this.state.nb_sm_standard,onChange:this.handleChange,name:"nb_sm_standard"})}),Object(f.jsx)("td",{children:Object(f.jsx)(b.a,{as:"input",type:"text",value:this.state.standard_sm_price,onChange:this.handleChange,name:"standard_sm_price"})}),Object(f.jsx)("td",{children:Object(f.jsx)(b.a,{as:"input",type:"text",value:this.state.nb_rsm_standard+"/"+this.state.nb_sm_standard,readOnly:!0})})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Low"}),Object(f.jsx)("td",{children:Object(f.jsx)(b.a,{as:"input",type:"text",value:this.state.nb_t_low,onChange:this.handleChange,name:"nb_t_low"})}),Object(f.jsx)("td",{children:Object(f.jsx)(b.a,{as:"input",type:"text",value:this.state.low_t_price,onChange:this.handleChange,name:"low_t_price"})}),Object(f.jsx)("td",{children:Object(f.jsx)(b.a,{as:"input",type:"text",value:this.state.nb_rt_low+"/"+this.state.nb_t_low,readOnly:!0})}),Object(f.jsx)("td",{children:Object(f.jsx)(b.a,{as:"input",type:"text",value:this.state.nb_sm_low,onChange:this.handleChange,name:"nb_sm_low"})}),Object(f.jsx)("td",{children:Object(f.jsx)(b.a,{as:"input",type:"text",value:this.state.low_sm_price,onChange:this.handleChange,name:"low_sm_price"})}),Object(f.jsx)("td",{children:Object(f.jsx)(b.a,{as:"input",type:"text",value:this.state.nb_rsm_low+"/"+this.state.nb_sm_low,readOnly:!0})})]})]})]})}),Object(f.jsx)(m.a,{variant:"primary",type:"button",onClick:this.submit,children:"Sauvegarder"}),Object(f.jsx)(m.a,{variant:"primary",type:"button",onClick:this.setCurrent,children:"Set courant"}),Object(f.jsx)(m.a,{variant:"warning",type:"button",onClick:this.props.deleteFestival,name:this.props.festival.f._id,children:"\ud83d\uddd1"})]})})}}]),n}(l.Component),O=n(98),x=n(29);function v(){return fetch(x.Festivals).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e.stack),console.log(e.message)}))}function g(e){var t;return t=e.f.is_current?"success":"secondary",Object(f.jsx)(O.a,{style:{margin:"1em"},children:Object(f.jsx)(u.a,{bg:t,children:Object(f.jsx)(p,{festival:e,deleteFestival:E,handleUpdate:S,handleUpdateCurrent:w})})},e._id)}function _(e,t){var n=[];if(e)return e.map((function(e){e&&e.f.name.toLowerCase().includes(t)&&n.push(g(e))})),n}function C(e,t){var n=[];if(e)return e.map((function(e){e&&e.f.year.toString().includes(t)&&n.push(g(e))})),n}function y(e){var t={headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)};return fetch(x.Festivals,t)}function k(e){a=e}function E(e){var t=e.target.name;fetch(x.Festivals+"/"+t,{method:"DELETE"}).then((function(){return a(t)}))}function F(e){i=e}function S(e){var t={headers:{"Content-Type":"application/json"},method:"PUT",body:JSON.stringify(e)};fetch(x.Festivals+"/"+e._id,t).then()}function w(e){var t={headers:{"Content-Type":"application/json"},method:"PUT",body:JSON.stringify(e)};fetch(x.Festivals+"/"+e._id+"/current",t).then((function(){return i(e._id,e.is_current)}))}},70:function(e,t,n){"use strict";n.r(t),n.d(t,"getBillsFromDB",(function(){return c})),n.d(t,"filterBillByName",(function(){return o})),n.d(t,"addBill",(function(){return d})),n.d(t,"setHandleDelete",(function(){return h})),n.d(t,"deleteBill",(function(){return l}));var a=n(0);var i,r=function(e){return Object(a.jsxs)("tr",{id:e._id,children:[Object(a.jsx)("td",{children:e.name}),Object(a.jsx)("td",{children:e.contact}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"button",onClick:e.deleteBill,name:e._id,value:"\ud83d\uddd1"})})]})},s=n(29);function c(){return fetch(s.Bills).then((function(e){return e.json()})).then((function(e){return e.bills})).catch((function(e){console.log(e.stack),console.log(e.message)}))}function o(e,t){var n=[];if(e)return e.map((function(e){e&&e.name.toLowerCase().includes(t)&&n.push(function(e){return Object(a.jsx)(r,{_id:e._id,name:e.name,deleteBill:l},e._id)}(e))})),n}function d(e){var t={headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)};return fetch(s.Bills,t)}function h(e){i=e}function l(e){var t=e.target.name;fetch(s.Bills+"/"+t,{method:"DELETE"}).then((function(){return i(t)}))}},83:function(e,t,n){},84:function(e,t,n){},93:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(33),s=n.n(r),c=(n(83),n(84),n(85),n(102)),o=n(78),d=n(37),h=n(16),l=n(13),u=n(6),j=n(7),b=n(2),m=n(9),f=n(8),p=n(101),O=n(74),x=n(73),v=n(15),g=n(0),_=n(29),C=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={email:"",pwd:""},a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"handleChange",value:function(e){var t=e.target,n=t.value,a=t.name;this.setState(Object(l.a)({},a,n))}},{key:"formIsUnchanged",value:function(){return""===this.state.email||""===this.state.pwd}},{key:"handleSubmit",value:function(){var e=this;if(!this.formIsUnchanged()){var t={headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(this.state)};fetch(_.login,t).then((function(e){return e.json()})).then((function(e){var t=new Date;t.setTime(t.getTime()+864e5),document.cookie="bearer "+e.token+";expires="+t.toUTCString()})).catch((function(e){console.log(e.stack),console.log(e.message)})).then((function(){return e.setState({redirect:"/nav/festivals"})})),this.setState({email:"",pwd:""})}}},{key:"render",value:function(){return this.state.redirect?Object(g.jsx)(h.a,{to:this.state.redirect}):Object(g.jsxs)(p.a,{style:{margin:"1em"},children:[Object(g.jsx)(O.a,{children:"Email"}),Object(g.jsx)(x.a,{type:"text",value:this.state.email,name:"email",placeholder:"prenom.nom@jeux.com",onChange:this.handleChange}),Object(g.jsx)(O.a,{children:"Mot de passe"}),Object(g.jsx)(x.a,{type:"password",value:this.state.pwd,name:"pwd",placeholder:"Mot de passe",onChange:this.handleChange}),Object(g.jsx)(v.a,{onClick:this.handleSubmit,children:" Connexion"})]})}}]),n}(a.Component),y=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleFilterTextChange=a.handleFilterTextChange.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"handleFilterTextChange",value:function(e){this.props.onFilterTextChange(e.target.value)}},{key:"render",value:function(){var e="Recherche par "+this.props.filter.french+"...";return Object(g.jsx)(p.a,{children:Object(g.jsx)(x.a,{type:"text",placeholder:e,value:this.props.filterText,onChange:this.handleFilterTextChange})})}}]),n}(a.Component),k=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).listFilter=a.props.filters.map((function(e){return Object(g.jsx)("option",{value:e.english+","+e.french,children:e.french},e.english)})),a.handleFilterChange=a.handleFilterChange.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"handleFilterChange",value:function(e){this.props.onFilterChange(e.target.value.split(",")[0],e.target.value.split(",")[1])}},{key:"render",value:function(){return Object(g.jsx)(p.a,{children:Object(g.jsx)(x.a,{as:"select",onChange:this.handleFilterChange,children:this.listFilter})})}}]),n}(a.Component),E=n(97),F=n(103),S=n(69),w=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).rows=[],a.state={rows:[]},a}return Object(j.a)(n,[{key:"render",value:function(){var e;return"name"===this.props.filter?e=S.filterFestivalByName(this.props.festivals,this.props.filterText.toLowerCase()):"year"===this.props.filter&&(e=S.filterFestivalByYear(this.props.festivals,this.props.filterText)),Object(g.jsx)(g.Fragment,{children:e})}}]),n}(a.Component),T=n(77),D=n(100),B=n.p+"static/media/addFiles.05f97dea.svg",G=(n(93),n(72)),L=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={name:"",contacts:[],isEditor:!1,isExhibitor:!1,isPotential:!0},a.submit=a.submit.bind(Object(b.a)(a)),a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.handleContactsChange=a.handleContactsChange.bind(Object(b.a)(a)),a.addContact=a.addContact.bind(Object(b.a)(a)),a.removeContacts=a.removeContacts.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"handleChange",value:function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;this.setState(Object(l.a)({},a,n))}},{key:"handleContactsChange",value:function(e){var t=e.target,n=t.value,a=t.name,i=this.state.contacts;i[a]=n,this.setState({contacts:i})}},{key:"addContact",value:function(){this.state.contacts.push(""),this.setState({contacts:this.state.contacts})}},{key:"removeContacts",value:function(){this.state.contacts.pop(),this.setState({contacts:this.state.contacts})}},{key:"formIsUnchanged",value:function(){return""===this.state.name||""===this.state.contacts}},{key:"submit",value:function(){this.formIsUnchanged()||(this.props.handleClick(this.state),this.setState({name:"",contact:"",isEditor:"",isExhibitor:"",isPotential:!0}))}},{key:"render",value:function(){var e=this,t=this.state.contacts.map((function(t,n){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(x.a,{as:"input",type:"text",value:t,onChange:e.handleContactsChange,name:n},n)})}));return Object(g.jsxs)(p.a,{children:[Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Nom"}),Object(g.jsx)(x.a,{as:"input",name:"name",type:"text",value:this.state.name,placeholder:"Nom",onChange:this.handleChange})]}),Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Contacts"}),Object(g.jsx)(v.a,{variant:"warning",onClick:this.addContact,children:"Ajouter contact"}),Object(g.jsx)(v.a,{variant:"warning",onClick:this.removeContacts,children:"Enlever contact"}),t]}),Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Check,{label:"Editeur ?",checked:this.state.isEditor,onChange:this.handleChange,name:"isEditor"}),Object(g.jsx)(p.a.Check,{label:"Exposant ?",checked:this.state.isExhibitor,onChange:this.handleChange,name:"isExhibitor"})]}),Object(g.jsx)(v.a,{onClick:this.submit,variant:"link",children:"Ajouter"})]})}}]),n}(a.Component),A=n(36),N=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;Object(u.a)(this,n),a=t.call(this,e);var i="",r="";e.editorId&&(i=e.editorId,r=e.editorName);var s="";return e.zone&&(s=e.zone),a.state={editors:[],name:"",min_yearold:"",category:"",duration:"",editor:{_id:i,name:r},zone:s,countPlayer:"",prototype:"",placed:"",recieved:"",need_volunteer:"",date:""},a.submit=a.submit.bind(Object(b.a)(a)),a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.handleEditorChange=a.handleEditorChange.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.editorId||A.getEditorsFromDB().then((function(e){return e.filter((function(e){return e.isEditor&&e.isPotential}))})).then((function(t){return e.setState({editors:t})}))}},{key:"handleChange",value:function(e){var t=e.target,n=t.value,a=t.name;this.setState(Object(l.a)({},a,n))}},{key:"handleEditorChange",value:function(e){var t=e.target.value;this.state.editor={_id:t.split(",")[0],name:t.split(",")[1]},this.setState({editor:this.state.editor})}},{key:"formIsUnchanged",value:function(){return""===this.state.name||""===this.state.min_yearold||""===this.state.category||""===this.state.duration||""===this.state.editor._id||""===this.state.editor.name}},{key:"submit",value:function(){if(!this.formIsUnchanged()){var e=this.state.editors;this.state.editors=void 0,this.props.handleClick(this.state),this.setState({editors:e,name:"",min_yearold:"",category:"",duration:"",editor:{_id:"",name:""},zone:"",countPlayer:"",prototype:"",recieved:"",need_volunteer:"",date:""})}}},{key:"render",value:function(){var e,t;void 0!==this.props.editorId?e=Object(g.jsx)("option",{value:this.props.editorId+","+this.props.editorName,children:this.props.editorName},this.props.editorId):(t=Object(g.jsx)("option",{value:"",children:"---"}),e=this.state.editors.map((function(e){return Object(g.jsx)("option",{value:e._id+","+e.name,children:e.name},e._id)})));var n=["Famille","Ambiance","Expert","Enfant","Classiqe","Famille+"].map((function(e){return Object(g.jsx)("option",{value:e.toUpperCase(),children:e})}));return Object(g.jsxs)(p.a,{children:[Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Editeur"}),Object(g.jsxs)(x.a,{as:"select",onChange:this.handleEditorChange,children:[t,e]})]}),Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Nom"}),Object(g.jsx)(x.a,{as:"input",name:"name",type:"text",value:this.state.name,placeholder:"Nom du jeu",onChange:this.handleChange})]}),Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"\xc2ge requis"}),Object(g.jsx)(x.a,{as:"input",name:"min_yearold",type:"number",value:this.state.min_yearold,placeholder:"\xc2ge minimum",onChange:this.handleChange,min:0})]}),Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Cat\xe9gorie"}),Object(g.jsxs)(x.a,{as:"select",name:"category",onChange:this.handleChange,children:[Object(g.jsx)("option",{value:"",children:"---"}),n]})]}),Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Dur\xe9e de partie"}),Object(g.jsx)(x.a,{as:"input",name:"duration",type:"number",value:this.state.duration,placeholder:"Dur\xe9e",onChange:this.handleChange,min:0})]}),Object(g.jsx)(v.a,{onClick:this.submit,variant:"link",children:"Ajouter \xe0 l'\xe9diteur"})]})}}]),n}(a.Component),P=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={name:"",year:"",nb_t_premium:"",nb_t_standard:"",nb_t_low:"",nb_sm_premium:"",nb_sm_standard:"",nb_sm_low:"",premium_t_price:"",standard_t_price:"",low_t_price:"",premium_sm_price:"",standard_sm_price:"",low_sm_price:"",is_current:!1},a.submit=a.submit.bind(Object(b.a)(a)),a.handleChange=a.handleChange.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"handleChange",value:function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;this.setState(Object(l.a)({},a,n))}},{key:"formIsUnchanged",value:function(){return""===this.state.name||""===this.state.nb_t_premium||""===this.state.nb_t_standard||""===this.state.nb_t_low||""===this.state.nb_sm_premium||""===this.state.nb_sm_standard||""===this.state.nb_sm_low||""===this.state.year||""===this.state.premium_t_price||""===this.state.standard_t_price||""===this.state.low_t_price||""===this.state.premium_sm_price||""===this.state.standard_sm_price||""===this.state.low_sm_price}},{key:"submit",value:function(){this.formIsUnchanged()||(this.props.handleClick(this.state),this.setState({name:"",year:"",nb_t_premium:"",nb_t_standard:"",nb_t_low:"",nb_sm_premium:"",nb_sm_standard:"",nb_sm_low:"",premium_t_price:"",standard_t_price:"",low_t_price:"",premium_sm_price:"",standard_sm_price:"",low_sm_price:"",isCurrent:"",nb_rt_premium:0,nb_rt_standard:0,nb_rt_low:0,nb_rsm_premium:0,nb_rsm_standard:0,nb_rsm_low:0}))}},{key:"render",value:function(){return Object(g.jsxs)(p.a,{children:[Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Nom du festival"}),Object(g.jsx)(x.a,{as:"input",name:"name",type:"text",value:this.state.name,placeholder:"Nom",onChange:this.handleChange})]}),Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Ann\xe9e du festival"}),Object(g.jsx)(x.a,{as:"input",name:"year",type:"number",min:0,value:this.state.year,placeholder:"Ann\xe9e",onChange:this.handleChange})]}),Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Nombre de tables"}),Object(g.jsx)(x.a,{as:"input",name:"nb_t_premium",type:"number",min:0,value:this.state.nb_t_premium,placeholder:"premium",onChange:this.handleChange}),Object(g.jsx)(x.a,{as:"input",name:"nb_t_standard",type:"number",min:0,value:this.state.nb_t_standard,placeholder:"standard",onChange:this.handleChange}),Object(g.jsx)(x.a,{as:"input",name:"nb_t_low",type:"number",min:0,value:this.state.nb_t_low,placeholder:"low",onChange:this.handleChange})]}),Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Nombre de m\xb2"}),Object(g.jsx)(x.a,{as:"input",name:"nb_sm_premium",type:"number",min:0,value:this.state.nb_sm_premium,placeholder:"premium",onChange:this.handleChange}),Object(g.jsx)(x.a,{as:"input",name:"nb_sm_standard",type:"number",min:0,value:this.state.nb_sm_standard,placeholder:"standard",onChange:this.handleChange}),Object(g.jsx)(x.a,{as:"input",name:"nb_sm_low",type:"number",min:0,value:this.state.nb_sm_low,placeholder:"low",onChange:this.handleChange})]}),Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"prix des tables"}),Object(g.jsx)(x.a,{as:"input",name:"premium_t_price",type:"number",min:0,value:this.state.premium_t_price,placeholder:"premium",onChange:this.handleChange}),Object(g.jsx)(x.a,{as:"input",name:"standard_t_price",type:"number",min:0,value:this.state.standard_t_price,placeholder:"standard",onChange:this.handleChange}),Object(g.jsx)(x.a,{as:"input",name:"low_t_price",type:"number",min:0,value:this.state.low_t_price,placeholder:"low",onChange:this.handleChange})]}),Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"prix des m\xb2"}),Object(g.jsx)(x.a,{as:"input",name:"premium_sm_price",type:"number",min:0,value:this.state.premium_sm_price,placeholder:"premium",onChange:this.handleChange}),Object(g.jsx)(x.a,{as:"input",name:"standard_sm_price",type:"number",min:0,value:this.state.standard_sm_price,placeholder:"standard",onChange:this.handleChange}),Object(g.jsx)(x.a,{as:"input",name:"low_sm_price",type:"number",min:0,value:this.state.low_sm_price,placeholder:"low",onChange:this.handleChange})]}),Object(g.jsx)(v.a,{onClick:this.submit,variant:"link",children:"Ajouter"})]})}}]),n}(a.Component),H=n(63),z=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={exhibitor:{_id:"",name:""}},a.submit=a.submit.bind(Object(b.a)(a)),a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.handleExhibitorChange=a.handleExhibitorChange.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;H.getExhibitorsFromDB().then((function(t){return t.map((function(t){t&&t.isPotential&&e.state.exhibitors.push(t)}))})).then((function(){return e.setState({exhibitors:e.state.exhibitors})}))}},{key:"handleChange",value:function(e){var t=e.target,n=t.value,a=t.name;this.setState(Object(l.a)({},a,n))}},{key:"handleExhibitorChange",value:function(e){var t=e.target.value;this.state.exhibitor={_id:t.split(",")[0],name:t.split(",")[1]},this.setState({exhibitor:this.state.exhibitor})}},{key:"formIsUnchanged",value:function(){return""===this.state.exhibitor._id||""===this.state.exhibitor.name}},{key:"submit",value:function(){this.formIsUnchanged()||(this.state.exhibitors=void 0,this.props.handleClick(this.state))}},{key:"render",value:function(){var e=this.props.exhibitors.map((function(e){return Object(g.jsx)("option",{value:e._id+","+e.name,children:e.name},e._id)}));return Object(g.jsxs)(p.a,{children:[Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Exposant"}),Object(g.jsxs)(x.a,{as:"select",name:"exhibitor",onChange:this.handleExhibitorChange,children:[Object(g.jsx)("option",{value:"",children:"---"}),e]})]}),Object(g.jsx)(v.a,{onClick:this.submit,variant:"link",children:"Ajouter"})]})}}]),n}(a.Component),R=n(36),U=n(35),I=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={_id:e.reservationId,editor:{_id:"",name:"",games:[]},game:"",editors:[]},a.submit=a.submit.bind(Object(b.a)(a)),a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.handleEditorChange=a.handleEditorChange.bind(Object(b.a)(a)),a.handleAddGames=a.handleAddGames.bind(Object(b.a)(a)),a.handleGameChange=a.handleGameChange.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;R.getEditorsFromDB().then((function(e){return e.filter((function(e){return e.isEditor}))})).then((function(t){return e.setState({editors:t})})).then((function(){return R.getGamesFromEditor(e.state.editors[0]._id).then((function(t){return e.state.editors[0].games=t})).then((function(){return e.setState({editors:e.state.editors})})).then((function(){return e.setState({game:e.state.editors[0].games[0]})})).then((function(){return e.setState({editor:e.state.editors[0]})}))}))}},{key:"handleChange",value:function(e){var t=e.target,n=t.value,a=t.name;this.setState(Object(l.a)({},a,n))}},{key:"handleEditorChange",value:function(e){var t=this,n=e.target.value,a=this.state.editors.filter((function(e){return e._id===n}));this.setState({editor:a[0]},(function(){R.getGamesFromEditor(n).then((function(e){return a[0].games=e})).then((function(){return t.setState({editor:a[0]})})).then((function(){return t.state.game=a[0].games[0]})).then((function(){return t.setState({game:t.state.game})}))}))}},{key:"handleGameChange",value:function(e){var t=e.target.value,n=this.state.editor.games.filter((function(e){return e._id===t.split(",")[0]}));n[0].game=n[0]._id,this.setState({game:n[0]})}},{key:"handleAddGames",value:function(e){var t=this;U.addGames(e).then((function(e){return e.json()})).then((function(t){return e._id=t.gameId})).then((function(){return t.state.editor.games.push(e)})).then((function(){return t.setState({editor:t.state.editor})}))}},{key:"submit",value:function(){var e=this.state.editors;this.state.editors=void 0,this.props.handleClick(this.state.game),this.setState({editors:e})}},{key:"render",value:function(){var e,t=this.state.editors.map((function(e){return Object(g.jsx)("option",{value:e._id,children:e.name},e._id)})),n=this.state.editor.games?this.state.editor.games:[],a=n.map((function(e){return Object(g.jsx)("option",{value:e._id+","+e.name,children:e.name})}));return e=n.length>0?Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Jeux"}),Object(g.jsx)(x.a,{as:"select",onChange:this.handleGameChange,children:a})]}):Object(g.jsx)(N,{editorId:this.state.editor._id,editorName:this.state.editor.name,handleClick:this.handleAddGames}),Object(g.jsxs)(p.a,{children:[Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Editeur"}),Object(g.jsx)(x.a,{as:"select",onChange:this.handleEditorChange,children:t})]}),e,Object(g.jsx)(v.a,{onClick:this.submit,variant:"link",children:"Ajouter \xe0 la r\xe9servation"})]})}}]),n}(a.Component),Z=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={label:"",sm_capacity:""},a.submit=a.submit.bind(Object(b.a)(a)),a.handleChange=a.handleChange.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"handleChange",value:function(e){var t=e.target,n=t.value,a=t.name;this.setState(Object(l.a)({},a,n))}},{key:"formIsUnchanged",value:function(){return""===this.state.label||""===this.state.capacity}},{key:"submit",value:function(){this.formIsUnchanged()||(this.props.handleClick(this.state),this.setState({label:"",sm_capacity:""}))}},{key:"render",value:function(){return Object(g.jsxs)(p.a,{children:[Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Nom de zone"}),Object(g.jsx)(x.a,{as:"input",name:"label",type:"text",value:this.state.label,placeholder:"Nom de la zone",onChange:this.handleChange})]}),Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Capacit\xe9"}),Object(g.jsx)(x.a,{as:"input",name:"sm_capacity",type:"number",value:this.state.sm_capacity,placeholder:"Capacit\xe9",onChange:this.handleChange})]}),Object(g.jsx)(v.a,{onClick:this.submit,variant:"link",children:"Ajouter"})]})}}]),n}(a.Component),J=n(36),q=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={_id:"",gameSelected:{_id:"",name:"",editor:{_id:"",name:"",games:[]}},editors:[]},a.submit=a.submit.bind(Object(b.a)(a)),a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.handleEditorChange=a.handleEditorChange.bind(Object(b.a)(a)),a.handleGameChange=a.handleGameChange.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;J.getEditorsFromDB().then((function(e){return e.filter((function(e){return e.isEditor}))})).then((function(t){return e.setState({editors:t})})).then((function(){return J.getGamesFromEditor(e.state.editors[0]._id).then((function(t){return e.state.editors[0].games=t})).then((function(){return e.setState({editors:e.state.editors})})).then((function(){return e.setState({gameSelected:{_id:e.state.editors[0].games[0]._id,name:e.state.editors[0].games[0].name,category:e.state.editors[0].games[0].category,duration:e.state.editors[0].games[0].duration,min_yearold:e.state.editors[0].games[0].min_yearold,editor:e.state.editors[0]}})}))}))}},{key:"handleChange",value:function(e){var t=e.target,n=t.value,a=t.name;this.setState(Object(l.a)({},a,n))}},{key:"handleEditorChange",value:function(e){var t=this,n=e.target.value,a=this.state.editors.filter((function(e){return e._id===n}));this.setState({editor:a[0]},(function(){J.getGamesFromEditor(n).then((function(e){return a[0].games=e})).then((function(){return t.setState({editor:a[0]})})).then((function(){return t.state.gameSelected=a[0].games[0]})).then((function(){return t.state.gameSelected.editor=a[0]})).then((function(){return t.setState({gameSelected:t.state.gameSelected})}))}))}},{key:"handleGameChange",value:function(e){var t=e.target.value,n=this.state.editor.games.filter((function(e){return e._id===t}));n[0].editor=this.state.editor,this.setState({gameSelected:n[0]})}},{key:"submit",value:function(){this.props.handleClick(this.state.gameSelected)}},{key:"render",value:function(){var e,t=this.state.editors.map((function(e){return Object(g.jsx)("option",{value:e._id,children:e.name},e._id)})),n=(this.state.gameSelected.editor.games?this.state.gameSelected.editor.games:[]).map((function(e){return Object(g.jsx)("option",{value:e._id,children:e.name})}));return e=Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Jeux"}),Object(g.jsx)(x.a,{as:"select",onChange:this.handleGameChange,children:n})]}),Object(g.jsxs)(p.a,{children:[Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Editeur"}),Object(g.jsx)(x.a,{as:"select",onChange:this.handleEditorChange,children:t})]}),e,Object(g.jsx)(v.a,{onClick:this.submit,variant:"link",children:"Ajouter \xe0 la r\xe9servation"})]})}}]),n}(a.Component),M=n(1).useState;var K=function(e){var t,n=M(!1),a=Object(T.a)(n,2),i=a[0],r=a[1],s=function(){return r(!1)};return"EditorForm"===e.component?t=Object(g.jsx)(L,{handleClick:e.handleClick}):"GameForm"===e.component?t=Object(g.jsx)(N,{handleClick:e.handleClick,editorId:e.editorId,editorName:e.editorName}):"FestivalForm"===e.component?t=Object(g.jsx)(P,{handleClick:e.handleClick}):"ReservationForm"===e.component?t=Object(g.jsx)(z,{exhibitors:e.exhibitors,handleClick:e.handleClick}):"GamesBookedForm"===e.component?t=Object(g.jsx)(I,{reservationId:e.reservationId,handleClick:e.handleClick}):"ZoneForm"===e.component?t=Object(g.jsx)(Z,{handleClick:e.handleClick}):"GameZoneForm"===e.component&&(t=Object(g.jsx)(q,{handleClick:e.handleClick})),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(v.a,{onClick:function(){return r(!0)},variant:"success",children:Object(g.jsx)("img",{src:B,alt:"Ajouter"})}),Object(g.jsxs)(D.a,{show:i,onHide:s,backdrop:"static",keyboard:!1,children:[Object(g.jsx)(D.a.Header,{closeButton:!0,children:Object(g.jsx)(D.a.Title,{children:e.title})}),Object(g.jsx)(D.a.Body,{children:t}),Object(g.jsx)(D.a.Footer,{children:Object(g.jsx)(v.a,{variant:"primary",onClick:s,children:"Retour"})})]})]})},V=n(69),Y=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={festivals:"",filterText:"",filterEnglish:"name",filterFrench:"nom"},a.handleFilterTextChange=a.handleFilterTextChange.bind(Object(b.a)(a)),a.handleFilterChange=a.handleFilterChange.bind(Object(b.a)(a)),a.handleAddFestival=a.handleAddFestival.bind(Object(b.a)(a)),a.handleDelete=a.handleDelete.bind(Object(b.a)(a)),a.handleUpdate=a.handleUpdate.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;V.getFestivalsFromDB().then((function(t){e.setState({festivals:t})})),V.setHandleDelete(this.handleDelete),V.setHandleUpdate(this.handleUpdate)}},{key:"handleFilterTextChange",value:function(e){this.setState({filterText:e})}},{key:"handleFilterChange",value:function(e,t){this.setState({filterEnglish:e,filterFrench:t})}},{key:"handleAddFestival",value:function(e){var t=this;V.addFestival(e).then((function(e){return e.json()})).then((function(t){return e._id=t.f._id})).then((function(){return t.state.festivals.push({f:e,nb_rt_premium:0,nb_rt_standard:0,nb_rt_low:0,nb_rsm_premium:0,nb_rsm_standard:0,nb_rsm_low:0})})).then((function(){return t.setState({festivals:t.state.festivals})})).then((function(){return console.log("state",t.state.festivals)}))}},{key:"handleDelete",value:function(e){this.setState({festivals:this.state.festivals.filter((function(t){return t.f._id!==e}))})}},{key:"handleUpdate",value:function(e,t){this.state.festivals.filter((function(t){return t.f._id!==e})).map((function(e){return e.f.is_current=!1})),this.state.festivals.filter((function(t){return t.f._id===e}))[0].f.is_current=t,this.setState({festivals:this.state.festivals})}},{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(E.a,{striped:!0,bordered:!0,hover:!0,children:Object(g.jsx)("tbody",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:Object(g.jsx)(k,{filters:[{english:"name",french:"nom"},{english:"year",french:"ann\xe9e"}],onFilterChange:this.handleFilterChange})}),Object(g.jsx)("td",{children:Object(g.jsx)(y,{filterText:this.state.filterText,filter:{english:this.state.filterEnglish,french:this.state.filterFrench},onFilterTextChange:this.handleFilterTextChange})})]})})}),Object(g.jsx)(F.a,{style:{width:"4rem"},children:Object(g.jsx)(K,{title:"Ajouter un festival",component:"FestivalForm",handleClick:this.handleAddFestival})}),Object(g.jsx)(w,{festivals:this.state.festivals,filterText:this.state.filterText,filter:this.state.filterEnglish})]})}}]),n}(a.Component),Q=n(70),W=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).rows=[],a.state={rows:[]},a}return Object(j.a)(n,[{key:"render",value:function(){var e;return"name"===this.props.filter&&(e=Q.filterBillByName(this.props.bills,this.props.filterText.toLowerCase())),Object(g.jsxs)(E.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(g.jsx)("thead",{children:Object(g.jsx)("tr",{children:Object(g.jsx)("th",{children:"Nom"})})}),Object(g.jsx)("tbody",{children:e})]})}}]),n}(a.Component),X=n(70),$=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={bills:"",filterText:"",filterEnglish:"name",filterFrench:"Nom"},a.handleFilterTextChange=a.handleFilterTextChange.bind(Object(b.a)(a)),a.handleFilterChange=a.handleFilterChange.bind(Object(b.a)(a)),a.handleAddBill=a.handleAddBill.bind(Object(b.a)(a)),a.handleDelete=a.handleDelete.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;X.getBillsFromDB().then((function(t){e.setState({Bills:t})})),X.setHandleDelete(this.handleDelete)}},{key:"handleFilterTextChange",value:function(e){this.setState({filterText:e})}},{key:"handleFilterChange",value:function(e,t){this.setState({filterEnglish:e,filterFrench:t})}},{key:"handleAddBill",value:function(e){var t=this;X.addBill(e).then((function(e){return e.json()})).then((function(t){return e._id=t.billId})).then((function(){return t.state.bills.push(e)})).then((function(){return t.setState({bills:t.state.bills})}))}},{key:"handleDelete",value:function(e){this.setState({bills:this.state.bills.filter((function(t){return t._id!==e}))})}},{key:"render",value:function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)(E.a,{striped:!0,bordered:!0,hover:!0,children:Object(g.jsx)("tbody",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:Object(g.jsx)(k,{filters:[{english:"name",french:"nom"}],onFilterChange:this.handleFilterChange})}),Object(g.jsx)("td",{children:Object(g.jsx)(y,{filterText:this.state.filterText,filter:{english:this.state.filterEnglish,french:this.state.filterFrench},onFilterTextChange:this.handleFilterTextChange})})]})})}),Object(g.jsx)(W,{bills:this.state.bills,filterText:this.state.filterText,filter:this.state.filterEnglish})]})}}]),n}(a.Component),ee=n(104),te=n(99),ne=n(36),ae=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={rows:[]},a}return Object(j.a)(n,[{key:"render",value:function(){var e;return e=this.props.editorOnly?ne.filterEditorByEditorOnly(this.props.editors):this.props.exhibitorOnly?ne.filterEditorByExhibitorOnly(this.props.editors):ne.filterEditorByName(this.props.editors,this.props.filterText.toLowerCase()),Object(g.jsxs)(E.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Nom"}),Object(g.jsx)("th",{children:"Etat de r\xe9servation"}),Object(g.jsx)("th",{children:"Contact"}),Object(g.jsx)("th",{children:"Editeur"}),Object(g.jsx)("th",{children:"Exposant"}),Object(g.jsx)("th",{children:"Potentiel"})]})}),Object(g.jsx)("tbody",{children:e})]})}}]),n}(a.Component),ie=n(63),re=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={rows:[]},a}return Object(j.a)(n,[{key:"render",value:function(){var e;return e="name"===this.props.filter?ie.filterEditorByName(this.props.exhibitors,this.props.filterText):ie.filterEditorByPotentialOnly(this.props.exhibitors),Object(g.jsxs)(E.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Nom"}),Object(g.jsx)("th",{children:"Contact"}),Object(g.jsx)("th",{})]})}),Object(g.jsx)("tbody",{children:e})]})}}]),n}(a.Component),se=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={filterText:"",filterEnglish:"name",filterFrench:"nom"},a.handleFilterTextChange=a.handleFilterTextChange.bind(Object(b.a)(a)),a.handleFilterChange=a.handleFilterChange.bind(Object(b.a)(a)),a.handleAddEditor=a.handleAddEditor.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"handleFilterTextChange",value:function(e){this.setState({filterText:e})}},{key:"handleFilterChange",value:function(e,t){this.setState({filterEnglish:e,filterFrench:t})}},{key:"handleAddEditor",value:function(e){this.props.handleAddEditor(e)}},{key:"render",value:function(){var e,t,n;return this.props.showForm&&(e=Object(g.jsx)(F.a,{style:{width:"4rem"},children:Object(g.jsx)(K,{title:"Ajouter un \xe9diteur/exposant",handleClick:this.handleAddEditor,component:"EditorForm"})})),this.props.showSearch&&(t=Object(g.jsx)(E.a,{striped:!0,bordered:!0,hover:!0,children:Object(g.jsx)("tbody",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:Object(g.jsx)(k,{filters:[{english:"name",french:"nom"}],onFilterChange:this.handleFilterChange})}),Object(g.jsx)("td",{children:Object(g.jsx)(y,{filterText:this.state.filterText,filter:{english:this.state.filterEnglish,french:this.state.filterFrench},onFilterTextChange:this.handleFilterTextChange})})]})})})),n=this.props.editors?Object(g.jsx)(ae,{editors:this.props.editors,filterText:this.state.filterText,filter:this.state.filterEnglish,editorOnly:this.props.editorOnly,exhibitorOnly:this.props.exhibitorOnly,potentialOnly:this.props.potentialOnly}):Object(g.jsx)(re,{exhibitors:this.props.exhibitors,filterText:this.state.filterText,filter:this.state.filterEnglish}),Object(g.jsxs)("div",{children:[t,e,n]})}}]),n}(a.Component),ce=n(36),oe=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={editors:[]},a.handleDelete=a.handleDelete.bind(Object(b.a)(a)),a.handleAddEditor=a.handleAddEditor.bind(Object(b.a)(a)),a.handleUpdate=a.handleUpdate.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;ce.getEditorsFromDB().then((function(t){return e.setState({editors:t})})),ce.setHandleDelete(this.handleDelete),ce.setHandleUpdate(this.handleUpdate)}},{key:"handleDelete",value:function(e){this.setState({editors:this.state.editors.filter((function(t){return t._id!==e}))})}},{key:"handleUpdate",value:function(e,t,n){var a=this.state.editors.filter((function(t){return t._id===e}));"isEditor"===t?a[0].isEditor=n:"isExhibitor"===t?a[0].isExhibitor=n:a[0].isPotential=n,this.setState({editors:this.state.editors})}},{key:"handleAddEditor",value:function(e){var t=this;ce.addEditor(e).then((function(e){return e.json()})).then((function(t){return e._id=t.editorId})).then((function(){return t.state.editors.push(e)})).then((function(){return t.setState({editors:t.state.editors})}))}},{key:"render",value:function(){return Object(g.jsxs)(ee.a,{defaultActiveKey:"all",children:[Object(g.jsx)(te.a,{eventKey:"all",title:"Tout",children:Object(g.jsx)(se,{editorOnly:!1,exhibitorOnly:!1,potentialOnly:!1,editors:this.state.editors,handleAddEditor:this.handleAddEditor,showForm:!0,showSearch:!0})}),Object(g.jsx)(te.a,{eventKey:"Editeur",title:"Editeur potentiel",children:Object(g.jsx)(se,{editorOnly:!0,exhibitorOnly:!1,potentialOnly:!0,editors:this.state.editors,handleAddEditor:this.handleAddEditor,showForm:!1,showSearch:!1})}),Object(g.jsx)(te.a,{eventKey:"Exhibitor",title:"Exposant potentiel",children:Object(g.jsx)(se,{editorOnly:!1,exhibitorOnly:!0,potentialOnly:!0,editors:this.state.editors,handleAddEditor:this.handleAddEditor,showForm:!1,showSearch:!1})})]})}}]),n}(a.Component),de=n(46),he=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).rows=[],a.state={rows:[]},a}return Object(j.a)(n,[{key:"render",value:function(){var e;return e="name"===this.props.filter?de.filterReservationByName(this.props.reservations,this.props.filterText.toLowerCase()):de.filterReservationByState(this.props.reservations,this.props.filterText.toLowerCase()),this.props.need_volunteer&&(e=de.filterEditorByVolunteer(e)),this.props.isEditorHere&&(e=de.filterEditorByEditorPresent(e)),this.props.reportSent&&(e=de.filterEditorByReportSent(e)),e=de.mapCreateReservation(e),Object(g.jsxs)(E.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Nom exposant"}),Object(g.jsx)("th",{children:"Commentaire"}),Object(g.jsx)("th",{children:"\xe9tat"}),Object(g.jsx)("th",{children:"Besoin de b\xe9n\xe9voles ?"}),Object(g.jsx)("th",{children:"Editeur pr\xe9sent ?"}),Object(g.jsx)("th",{children:"CR envoy\xe9 ?"}),Object(g.jsx)("th",{children:"table"}),Object(g.jsx)("th",{children:"m\xb2"}),Object(g.jsx)("th",{children:"Total"}),Object(g.jsx)("th",{})]})}),Object(g.jsx)("tbody",{children:e})]})}}]),n}(a.Component),le=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){return Object(u.a)(this,n),t.call(this,e)}return Object(j.a)(n,[{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("td",{children:Object(g.jsxs)(p.a.Label,{children:["Besoins de b\xe9n\xe9voles ?",Object(g.jsx)(p.a.Check,{name:"need_volunteer",onChange:this.props.onChecked,checked:this.props.need_volunteer})]})}),Object(g.jsx)("td",{children:Object(g.jsxs)(p.a.Label,{children:["Editeur pr\xe9sent ?",Object(g.jsx)(p.a.Check,{name:"isEditorHere",onChange:this.props.onChecked,checked:this.props.isEditorHere})]})}),Object(g.jsx)("td",{children:Object(g.jsxs)(p.a.Label,{children:["CR envoy\xe9 ?",Object(g.jsx)(p.a.Check,{name:"reportSent",onChange:this.props.onChecked,checked:this.props.reportSent})]})})]})}}]),n}(a.Component),ue=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={editors:"",filterText:"",need_volunteer:!1,reportSent:!1,isEditorHere:!1,filterEnglish:"name",filterFrench:"nom"},a.handleFilterTextChange=a.handleFilterTextChange.bind(Object(b.a)(a)),a.handleFilterChange=a.handleFilterChange.bind(Object(b.a)(a)),a.handleFilterCheckedChange=a.handleFilterCheckedChange.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"handleFilterTextChange",value:function(e){this.setState({filterText:e})}},{key:"handleFilterChange",value:function(e,t){this.setState({filterEnglish:e,filterFrench:t})}},{key:"handleFilterCheckedChange",value:function(e){var t=e.target,n=t.name,a=t.checked;"need_volunteer"===n?this.state.need_volunteer=a:"reportSent"===n?this.state.reportSent=a:this.state.isEditorHere=a,this.setState(Object(l.a)({},n,a))}},{key:"render",value:function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)(E.a,{striped:!0,bordered:!0,hover:!0,children:Object(g.jsxs)("tbody",{children:[Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:Object(g.jsx)(k,{filters:[{english:"name",french:"nom"},{english:"state",french:"\xe9tat"}],onFilterChange:this.handleFilterChange})}),Object(g.jsx)("td",{children:Object(g.jsx)(y,{filterText:this.state.filterText,filter:{english:this.state.filterEnglish,french:this.state.filterFrench},onFilterTextChange:this.handleFilterTextChange})})]}),Object(g.jsx)("tr",{children:Object(g.jsx)(le,{onChecked:this.handleFilterCheckedChange,need_volunteer:this.state.need_volunteer,reportSent:this.state.reportSent,isEditorHere:this.state.isEditorHere})})]})}),Object(g.jsx)(F.a,{style:{width:"4rem"},children:Object(g.jsx)(K,{title:"Cr\xe9er une r\xe9servation",component:"ReservationForm",exhibitors:this.props.exhibitors,handleClick:this.props.handleAddReservation})}),Object(g.jsx)(he,{reservations:this.props.reservations,need_volunteer:this.state.need_volunteer,reportSent:this.state.reportSent,isEditorHere:this.state.isEditorHere,filterText:this.state.filterText,filter:this.state.filterEnglish})]})}}]),n}(a.Component),je=n(63),be=n(46),me=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={exhibitors:"",reservations:[{}]},a.handleAddReservation=a.handleAddReservation.bind(Object(b.a)(a)),a.handleDelete=a.handleDelete.bind(Object(b.a)(a)),a.handleUpdateCheck=a.handleUpdateCheck.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;je.getExhibitorsFromDB().then((function(t){return e.setState({exhibitors:t})})),be.getReservationsFromDB().then((function(t){e.setState({reservations:t})})),be.setAddHandler(this.handleAddReservation),be.setHandleDelete(this.handleDelete),be.setUpdateHandlerCheck(this.handleUpdateCheck)}},{key:"handleAddReservation",value:function(e){var t=this;be.addReservation(e).then((function(e){return e.json()})).then((function(e){return e.response})).then((function(e){return t.state.reservations.push({reservation:e.reservation,exhibitor:e.exhibitor})})).then((function(){return t.setState({reservations:t.state.reservations})}))}},{key:"handleDelete",value:function(e){this.setState({reservations:this.state.reservations.filter((function(t){return t.reservation._id!==e}))})}},{key:"handleUpdateCheck",value:function(e,t,n){var a=this.state.reservations.filter((function(t){return t.reservation._id===e}));"need_volunteer"===t?a[0].reservation.need_volunteer=n:"reportSent"===t?a[0].reservation.reportSent=n:a[0].reservation.isEditorHere=n,this.setState({reservations:this.state.reservations})}},{key:"render",value:function(){return Object(g.jsxs)(ee.a,{defaultActiveKey:"reservation",children:[Object(g.jsx)(te.a,{eventKey:"reservation",title:"Suivi r\xe9servations",children:Object(g.jsx)(ue,{reservations:this.state.reservations,exhibitors:this.state.exhibitors,handleAddReservation:this.handleAddReservation})}),Object(g.jsx)(te.a,{eventKey:"exposant",title:"Exposant potentiel",children:Object(g.jsx)(se,{exhibitorOnly:!0,potentialOnly:!0,exhibitors:this.state.exhibitors,showSearch:!0})})]})}}]),n}(a.Component),fe=n(98),pe=n(75),Oe=n(35),xe=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).rows=[],a.state={rows:[]},a}return Object(j.a)(n,[{key:"render",value:function(){var e=this.props.editor.games.map((function(e){return Oe.createGameFromEditor(e)}));return Object(g.jsxs)(E.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Nom du jeu"}),Object(g.jsx)("th",{children:"Cat\xe9gorie"}),Object(g.jsx)("th",{children:"Dur\xe9e en minutes"}),Object(g.jsx)("th",{children:"\xc2ge requis"})]})}),Object(g.jsx)("tbody",{children:e})]})}}]),n}(a.Component),ve=n(36),ge=n(35),_e=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={_id:"",name:"",contacts:[],isEditor:"",isExhibitor:"",isPotential:"",games:[]},a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.handleContactsChange=a.handleContactsChange.bind(Object(b.a)(a)),a.submit=a.submit.bind(Object(b.a)(a)),a.handleAddGame=a.handleAddGame.bind(Object(b.a)(a)),a.handleDelete=a.handleDelete.bind(Object(b.a)(a)),a.addContact=a.addContact.bind(Object(b.a)(a)),a.removeContacts=a.removeContacts.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;ve.getEditorFromDB(window.location.href.split("/")[5]).then((function(t){return e.setState({_id:t._id,name:t.name,contacts:t.contacts,isEditor:t.isEditor,isExhibitor:t.isExhibitor,isPotential:t.isPotential})})).then((function(){return ve.getGamesFromEditor(e.state._id).then((function(t){return e.setState({games:t})}))})).then((function(){return ge.setHandleDelete(e.handleDelete)}))}},{key:"handleChange",value:function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;this.setState(Object(l.a)({},a,n))}},{key:"handleContactsChange",value:function(e){var t=e.target,n=t.value,a=t.name,i=this.state.contacts;i[a]=n,this.setState({contacts:i})}},{key:"submit",value:function(){var e=this;ve.updateEditor(this.state).then((function(){return e.setState({redirect:"/nav/editeurs"})}))}},{key:"handleAddGame",value:function(e){var t=this;ge.addGames(e).then((function(e){return e.json()})).then((function(t){return e._id=t.gameId})).then((function(){return t.state.games.push(e)})).then((function(){return t.setState({games:t.state.games})}))}},{key:"handleDelete",value:function(e){this.setState({games:this.state.games.filter((function(t){return t._id!==e}))})}},{key:"addContact",value:function(){this.state.contacts.push(""),this.setState({contacts:this.state.contacts})}},{key:"removeContacts",value:function(){this.state.contacts.pop(),this.setState({contacts:this.state.contacts})}},{key:"render",value:function(){var e=this;if(this.state.redirect)return Object(g.jsx)(h.a,{to:this.state.redirect});var t,n=this.state.contacts.map((function(t,n){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(x.a,{as:"input",type:"text",value:t,onChange:e.handleContactsChange,name:n},n)})}));return this.state.isEditor&&(t=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(p.a.Label,{children:"Jeux de l'\xe9diteur"}),Object(g.jsx)(F.a,{style:{width:"4rem"},children:Object(g.jsx)(K,{title:"Ajouter un jeu \xe0 l'\xe9diteur",component:"GameForm",handleClick:this.handleAddGame,editorId:this.state._id,editorName:this.state.name})}),Object(g.jsx)(xe,{editor:this.state})]})),Object(g.jsxs)(p.a,{style:{margin:"1em"},children:[Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Nom de l'entreprise"}),Object(g.jsx)(x.a,{as:"input",value:this.state.name,type:"text",onChange:this.handleChange,name:"name"})]}),Object(g.jsxs)(G.a,{children:[Object(g.jsxs)(fe.a,{children:[Object(g.jsx)(pe.a,{children:Object(g.jsx)(p.a.Label,{children:"Contacts"})}),Object(g.jsxs)(pe.a,{children:[Object(g.jsx)(v.a,{variant:"warning",onClick:this.addContact,children:"Ajouter contact"}),Object(g.jsx)(v.a,{variant:"warning",onClick:this.removeContacts,children:"Enlever contact"})]})]}),Object(g.jsx)(fe.a,{children:Object(g.jsx)(pe.a,{children:Object(g.jsx)(F.a,{children:n})})})]}),Object(g.jsx)(G.a,{children:Object(g.jsxs)(fe.a,{children:[Object(g.jsx)(pe.a,{children:Object(g.jsx)(p.a.Check,{checked:this.state.isEditor,label:"Editeur ?",onChange:this.handleChange,id:this.state._id,name:"isEditor"})}),Object(g.jsx)(pe.a,{children:Object(g.jsx)(p.a.Check,{checked:this.state.isExhibitor,label:"Exposant ?",onChange:this.handleChange,id:this.state._id,name:"isExhibitor"})}),Object(g.jsx)(pe.a,{children:Object(g.jsx)(p.a.Check,{checked:this.state.isPotential,label:"Potentiel ?",onChange:this.handleChange,id:this.state._id,name:"isPotential"})})]})}),Object(g.jsx)(v.a,{onClick:this.submit,variant:"outline-success",children:"Sauvegarder"}),Object(g.jsx)(G.a,{children:t})]})}}]),n}(a.Component),Ce=n(35),ye=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={_id:"",name:"",category:"",duration:"",min_yearold:""},a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.submit=a.submit.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;Ce.getGameFromDB(window.location.href.split("/")[5]).then((function(t){return e.setState({_id:t._id,name:t.name,category:t.category,duration:t.duration,min_yearold:t.min_yearold,editor:t.editor})}))}},{key:"handleChange",value:function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;this.setState(Object(l.a)({},a,n))}},{key:"submit",value:function(){Ce.updateGame(this.state).then(),this.setState({redirect:"/nav/jeux"})}},{key:"render",value:function(){if(this.state.redirect)return Object(g.jsx)(h.a,{to:this.state.redirect});var e=["Famille","Ambiance","Expert","Enfant","Classiqe","Famille+"].map((function(e){return Object(g.jsx)("option",{value:e.toUpperCase(),children:e})}));return Object(g.jsxs)(p.a,{style:{margin:"1em"},children:[Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Nom du jeu"}),Object(g.jsx)(x.a,{as:"input",value:this.state.name,type:"text",onChange:this.handleChange,name:"name"})]}),Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Cat\xe9gorie"}),Object(g.jsx)(x.a,{as:"select",name:"category",value:this.state.category,onChange:this.handleChange,children:e})]}),Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Dur\xe9e"}),Object(g.jsx)(x.a,{as:"input",value:this.state.duration,type:"number",min:0,onChange:this.handleChange,name:"duration"})]}),Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"\xe2ge requis"}),Object(g.jsx)(x.a,{as:"input",value:this.state.min_yearold,type:"number",min:0,onChange:this.handleChange,name:"min_yearold"})]}),Object(g.jsx)(v.a,{onClick:this.submit,variant:"outline-success",children:"Sauvegarder"})]})}}]),n}(a.Component);var ke=function(e){var t=["en attente de r\xe9ception","re\xe7u","apport\xe9 par exposant","\xe0 placer","\xe0 renvoyer","renvoy\xe9"].map((function(t){return Object(g.jsx)("option",{id:e.game._id,value:t,children:t},t)}));return Object(g.jsxs)("tr",{id:e.game.game,children:[Object(g.jsx)("td",{children:e.game.name}),Object(g.jsx)("td",{children:Object(g.jsx)(x.a,{as:"input",type:"number",value:e.game.total_qte,id:e.game._id,name:"total_qte",onChange:e.handleChange})}),Object(g.jsx)("td",{children:Object(g.jsx)(x.a,{as:"input",type:"number",max:e.game.total_qte,value:e.game.exposed_qte,id:e.game._id,name:"exposed_qte",onChange:e.handleChange})}),Object(g.jsx)("td",{children:Object(g.jsx)(x.a,{as:"input",name:"zone",value:e.game.zone,id:e.game._id,onChange:e.handleChange})}),Object(g.jsx)("td",{children:Object(g.jsx)(p.a.Check,{checked:e.game.proto,id:e.game._id,name:"proto",onChange:e.handleChange})}),Object(g.jsx)("td",{children:Object(g.jsx)(G.a,{value:e.game.state,children:Object(g.jsx)(x.a,{as:"select",name:"state",id:e.game._id,value:e.game.state,onChange:e.handleChange,children:t})})}),Object(g.jsx)("td",{children:Object(g.jsx)("input",{type:"button",onClick:e.handleDelete,name:e.game._id,value:"\ud83d\uddd1"})})]})};var Ee=function(e){var t=e.games.map((function(t){return Object(g.jsx)(ke,{handleDelete:e.handleDelete,handleChange:e.handleChange,game:t})}));return Object(g.jsxs)(E.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Nom du jeu"}),Object(g.jsx)("th",{children:"qt\xe9 jeu"}),Object(g.jsx)("th",{children:"qt\xe9 jeu expos\xe9"}),Object(g.jsx)("th",{children:"Zone"}),Object(g.jsx)("th",{children:"Prototype ?"}),Object(g.jsx)("th",{children:"\xe9tat"})]})}),Object(g.jsx)("tbody",{children:t})]})},Fe=n(46),Se=n(36),we=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={_id:"",festival:{_id:"",premium_t_price:"",nb_t_premium:"",standard_t_price:"",nb_t_standard:"",low_t_price:"",nb_t_low:"",premium_sm_price:"",nb_sm_premium:"",standard_sm_price:"",nb_sm_standard:"",low_sm_price:"",nb_sm_low:""},exhibitor:{_id:"",name:"",contacts:[]},comment:"",state:"",need_volunteer:"",isEditorHere:"",reportSent:"",nb_t_premium:"",nb_t_standard:"",nb_t_low:"",nb_sm_premium:"",nb_sm_standard:"",nb_sm_low:"",games:[],talks:[],calculatedPrice:"",price:""},a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.submit=a.submit.bind(Object(b.a)(a)),a.addContact=a.addContact.bind(Object(b.a)(a)),a.removeContact=a.removeContact.bind(Object(b.a)(a)),a.handleContactsChange=a.handleContactsChange.bind(Object(b.a)(a)),a.calculatePrice=a.calculatePrice.bind(Object(b.a)(a)),a.handleAddGame=a.handleAddGame.bind(Object(b.a)(a)),a.handleEditorChange=a.handleEditorChange.bind(Object(b.a)(a)),a.handleTalksChange=a.handleTalksChange.bind(Object(b.a)(a)),a.addTalk=a.addTalk.bind(Object(b.a)(a)),a.removeTalk=a.removeTalk.bind(Object(b.a)(a)),a.handleDeleteGame=a.handleDeleteGame.bind(Object(b.a)(a)),a.handleGameChange=a.handleGameChange.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;Fe.getReservationFromDB(window.location.href.split("/")[5]).then((function(t){return e.setState({_id:t.reservation._id,exhibitor:{_id:t.exhibitor._id,name:t.exhibitor.name,contacts:t.exhibitor.contacts},festival:{_id:t.festival._id,premium_t_price:t.festival.premium_t_price,nb_t_premium:t.festival.nb_t_premium,standard_t_price:t.festival.standard_t_price,nb_t_standard:t.festival.nb_t_standard,low_t_price:t.festival.low_t_price,nb_t_low:t.festival.nb_t_low,premium_sm_price:t.festival.premium_sm_price,nb_sm_premium:t.festival.nb_sm_premium,standard_sm_price:t.festival.standard_sm_price,nb_sm_standard:t.festival.nb_sm_standard,low_sm_price:t.festival.low_sm_price,nb_sm_low:t.festival.nb_t_low},comment:t.reservation.comment,state:t.reservation.state,need_volunteer:t.reservation.need_volunteer,isEditorHere:t.reservation.isEditorHere,reportSent:t.reservation.reportSent,nb_t_premium:t.reservation.nb_t_premium,nb_t_standard:t.reservation.nb_t_standard,nb_t_low:t.reservation.nb_t_low,nb_sm_premium:t.reservation.nb_sm_premium,nb_sm_standard:t.reservation.nb_sm_standard,nb_sm_low:t.reservation.nb_sm_low,games:t.reservation.games,talks:t.reservation.talks,price:t.reservation.price})})).then((function(){return e.setState({calculatedPrice:e.calculatePrice()})}))}},{key:"calculatePrice",value:function(){var e=this.state.nb_t_premium?this.state.nb_t_premium:0,t=this.state.nb_t_standard?this.state.nb_t_standard:0,n=this.state.nb_t_low?this.state.nb_t_low:0,a=this.state.nb_sm_premium?this.state.nb_sm_premium:0,i=this.state.nb_sm_standard?this.state.nb_sm_standard:0,r=this.state.nb_sm_low?this.state.nb_sm_low:0;return e*this.state.festival.premium_t_price+t*this.state.festival.standard_t_price+n*this.state.festival.low_t_price+a*this.state.festival.premium_sm_price+i*this.state.festival.standard_sm_price+r*this.state.festival.low_sm_price}},{key:"addContact",value:function(){this.state.exhibitor.contacts.push(""),this.setState({exhibitor:this.state.exhibitor})}},{key:"removeContact",value:function(){this.state.exhibitor.contacts.pop(),this.setState({exhibitor:this.state.exhibitor})}},{key:"addTalk",value:function(){this.state.talks.push(""),this.setState({talks:this.state.talks})}},{key:"removeTalk",value:function(){this.state.talks.pop(),this.setState({talks:this.state.talks})}},{key:"handleChange",value:function(e){var t=this,n=e.target,a="checkbox"===n.type?n.checked:n.value,i=n.name;n.id?this.setState(Object(l.a)({},i,a),(function(){return t.setState({calculatedPrice:t.calculatePrice()})})):this.setState(Object(l.a)({},i,a))}},{key:"handleEditorChange",value:function(e){var t=e.target,n=t.value,a=t.id;this.setState({editor:{_id:a,name:n}})}},{key:"handleContactsChange",value:function(e){var t=e.target,n=t.value,a=t.name,i=this.state.exhibitor;i.contacts[a]=n,this.setState({exhibitor:i})}},{key:"handleTalksChange",value:function(e){var t=e.target,n=t.value,a=t.name,i=this.state.talks;i[a]=n,this.setState({talks:i})}},{key:"handleAddGame",value:function(e){this.state.games.push(e),this.setState({games:this.state.games})}},{key:"handleDeleteGame",value:function(e){var t=e.target.name,n=this.state.games.filter((function(e){return e._id!==t}));this.setState({games:n})}},{key:"handleGameChange",value:function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name,i=t.id,r=this.state.games.filter((function(e){return e._id===i}));"total_qte"===a?r[0].total_qte=n:"exposed_qte"===a?r[0].exposed_qte=n:"zone"===a?r[0].zone=n:"proto"===a?r[0].proto=n:"state"===a&&(r[0].state=n),this.setState({games:this.state.games})}},{key:"submit",value:function(){var e=this;this.state.editors=void 0,this.state.festival=void 0,Fe.updateReservation(this.state).then(),Se.updateEditor(this.state.exhibitor).then((function(){return e.setState({redirect:"/nav/reservations"})}))}},{key:"render",value:function(){var e=this;if(this.state.redirect)return Object(g.jsx)(h.a,{to:this.state.redirect});var t=["En discussion","Pas de r\xe9ponse","Consid\xe9r\xe9 absent","Annul\xe9","Confirm\xe9","Liste jeux demand\xe9","Liste jeux confirm\xe9"].map((function(e){return Object(g.jsx)("option",{value:e,children:e},e)})),n=this.state.exhibitor.contacts.map((function(t,n){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(x.a,{as:"input",type:"text",value:t,onChange:e.handleContactsChange,name:n},t)})})),a=this.state.talks.map((function(t,n){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(x.a,{as:"input",type:"date",value:t,onChange:e.handleTalksChange,name:n},t)})}));return Object(g.jsxs)(p.a,{style:{margin:"2em"},children:[Object(g.jsxs)(fe.a,{className:"justify-content-md-center",children:[Object(g.jsx)(pe.a,{lg:!0,md:!0,xs:!0,children:Object(g.jsxs)(F.a,{bg:"info",style:{height:"25em"},children:[Object(g.jsx)(F.a.Header,{children:Object(g.jsxs)(F.a.Title,{children:["Exposant : ",this.state.exhibitor.name]})}),Object(g.jsxs)(F.a.Body,{children:[Object(g.jsx)(pe.a,{children:Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Contact"}),n]})}),Object(g.jsx)(v.a,{variant:"warning",onClick:this.addContact,children:"Ajouter contact"}),Object(g.jsx)(v.a,{variant:"warning",onClick:this.removeContact,children:"Enlever contact"})]})]})}),Object(g.jsx)(pe.a,{children:Object(g.jsxs)(F.a,{bg:"secondary",style:{height:"25em"},children:[Object(g.jsx)(F.a.Header,{children:Object(g.jsx)(F.a.Title,{children:"Statut de la r\xe9servation"})}),Object(g.jsxs)(F.a.Body,{children:[Object(g.jsx)(pe.a,{children:Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"\xe9tat"}),Object(g.jsx)(x.a,{as:"select",value:this.state.state,onChange:this.handleChange,name:"state",children:t})]})}),Object(g.jsx)(pe.a,{children:Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Commentaire"}),Object(g.jsx)(x.a,{as:"textarea",value:this.state.comment,onChange:this.handleChange,name:"comment",rows:4})]})})]})]})})]}),Object(g.jsx)(fe.a,{style:{marginTop:"2em"},className:"justify-content-md-center",lg:!0,md:!0,xs:!0,children:Object(g.jsx)(pe.a,{lg:6,md:6,xs:6,children:Object(g.jsxs)(F.a,{bg:"secondary",children:[Object(g.jsx)(F.a.Header,{children:Object(g.jsx)(F.a.Title,{children:"Prise de contact"})}),Object(g.jsxs)(F.a.Body,{children:[Object(g.jsx)(G.a,{children:a}),Object(g.jsx)(v.a,{variant:"warning",onClick:this.addTalk,children:"Ajouter prise de contact"}),Object(g.jsx)(v.a,{variant:"warning",onClick:this.removeTalk,children:"Enlever prise de contact"})]})]})})}),Object(g.jsxs)(fe.a,{style:{marginTop:"2em"},className:"justify-content-md-center",children:[Object(g.jsx)(pe.a,{lg:9,md:9,xs:9,children:Object(g.jsxs)(F.a,{bg:"dark",text:"white",children:[Object(g.jsx)(F.a.Header,{children:Object(g.jsx)(F.a.Title,{children:"Tables/m\xb2 r\xe9serv\xe9s"})}),Object(g.jsxs)(F.a.Body,{children:[Object(g.jsxs)(fe.a,{style:{margin:"1em"},children:[Object(g.jsx)(pe.a,{children:Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Nombre de tables premium r\xe9serv\xe9"}),Object(g.jsx)(x.a,{as:"input",value:this.state.nb_t_premium,id:"1",max:this.state.festival.nb_t_premium,name:"nb_t_premium",onChange:this.handleChange})]})}),Object(g.jsx)(pe.a,{children:Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Nombre de tables standard r\xe9serv\xe9"}),Object(g.jsx)(x.a,{as:"input",value:this.state.nb_t_standard,id:"1",max:this.state.festival.nb_t_standard,name:"nb_t_standard",onChange:this.handleChange})]})}),Object(g.jsx)(pe.a,{children:Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Nombre de tables low r\xe9serv\xe9"}),Object(g.jsx)(x.a,{as:"input",value:this.state.nb_t_low,id:"1",max:this.state.festival.nb_t_low,name:"nb_t_low",onChange:this.handleChange})]})})]}),Object(g.jsxs)(fe.a,{style:{margin:"1em"},children:[Object(g.jsx)(pe.a,{children:Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Nombre de m\xb2 premium r\xe9serv\xe9"}),Object(g.jsx)(x.a,{as:"input",value:this.state.nb_sm_premium,id:"1",max:this.state.festival.nb_sm_premium,name:"nb_sm_premium",onChange:this.handleChange})]})}),Object(g.jsx)(pe.a,{children:Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Nombre de m\xb2 standards r\xe9serv\xe9"}),Object(g.jsx)(x.a,{as:"input",value:this.state.nb_sm_standard,id:"1",max:this.state.festival.nb_sm_standard,name:"nb_sm_standard",onChange:this.handleChange})]})}),Object(g.jsx)(pe.a,{children:Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Nombre de m\xb2 low r\xe9serv\xe9"}),Object(g.jsx)(x.a,{as:"input",value:this.state.nb_sm_low,id:"1",max:this.state.festival.nb_sm_low,name:"nb_sm_low",onChange:this.handleChange})]})})]}),Object(g.jsxs)(fe.a,{style:{margin:"1em"},children:[Object(g.jsx)(pe.a,{children:Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Prix calcul\xe9"}),Object(g.jsx)(x.a,{as:"input",value:this.state.calculatedPrice,readOnly:!0})]})}),Object(g.jsx)(pe.a,{children:Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Prix n\xe9goci\xe9"}),Object(g.jsx)(x.a,{as:"input",value:this.state.price,min:this.state.calculatedPrice,type:"number",name:"price",onChange:this.handleChange})]})})]})]})]})}),Object(g.jsx)(pe.a,{lg:"auto",md:"auto",xs:"auto",children:Object(g.jsxs)(F.a,{bg:"secondary",children:[Object(g.jsx)(F.a.Header,{children:Object(g.jsx)(F.a.Title,{children:"Sp\xe9cifit\xe9"})}),Object(g.jsxs)(F.a.Body,{children:[Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Besoin de b\xe9n\xe9voles ?"}),Object(g.jsx)(p.a.Check,{checked:this.state.need_volunteer,onChange:this.handleChange,name:"need_volunteer"})]}),Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Editeur pr\xe9sent ?"}),Object(g.jsx)(p.a.Check,{checked:this.state.isEditorHere,onChange:this.handleChange,name:"isEditorHere"})]}),Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Compte rendu envoy\xe9 ?"}),Object(g.jsx)(p.a.Check,{checked:this.state.reportSent,onChange:this.handleChange,name:"reportSent"})]})]})]})})]}),Object(g.jsx)(fe.a,{style:{marginTop:"2em"},children:Object(g.jsx)(pe.a,{children:Object(g.jsxs)(F.a,{bg:"light",children:[Object(g.jsxs)(F.a.Header,{children:[Object(g.jsx)(F.a.Title,{children:"Jeux r\xe9serv\xe9s"}),Object(g.jsx)(F.a,{style:{width:"4rem"},children:Object(g.jsx)(K,{title:"Ajouter un jeux \xe0 l'\xe9diteur",component:"GamesBookedForm",reservationId:this.state._id,handleClick:this.handleAddGame})})]}),Object(g.jsx)(F.a.Body,{children:Object(g.jsx)(Ee,{games:this.state.games,handleDelete:this.handleDeleteGame,handleChange:this.handleGameChange})})]})})}),Object(g.jsx)(v.a,{style:{marginTop:"1em"},variant:"outline-success",onClick:this.submit,children:"Sauvegarder"})]})}}]),n}(a.Component),Te=n(35),De=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).rows=[],a.state={rows:[]},a}return Object(j.a)(n,[{key:"render",value:function(){var e=Te.createGames(this.props.response);return"name"===this.props.filter?e=Te.filterGamesByName(this.props.response,this.props.filterText.toLowerCase()):"category"===this.props.filter?e=Te.filterGamesByCategory(this.props.response,this.props.filterText.toLowerCase()):"editor"===this.props.filter?e=Te.filterGamesByEditor(this.props.response,this.props.filterText.toLowerCase()):"zone"===this.props.filter?e=Te.filterGamesByZone(this.props.response,this.props.filterText.toLowerCase()):"state"===this.props.filter&&(e=Te.filterGamesByState(this.props.response,this.props.filterText.toLowerCase())),Object(g.jsxs)(E.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Nom du jeu"}),Object(g.jsx)("th",{children:"Editeur"}),Object(g.jsx)("th",{children:"Etat"}),Object(g.jsx)("th",{children:"Cat\xe9gorie"}),Object(g.jsx)("th",{children:"Dur\xe9e en minutes"}),Object(g.jsx)("th",{children:"\xc2ge requis"}),Object(g.jsx)("th",{children:"Zone"})]})}),Object(g.jsx)("tbody",{children:e})]})}}]),n}(a.Component),Be=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={filterText:"",filterEnglish:"name",filterFrench:"nom"},a.handleFilterTextChange=a.handleFilterTextChange.bind(Object(b.a)(a)),a.handleFilterChange=a.handleFilterChange.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"handleFilterTextChange",value:function(e){this.setState({filterText:e})}},{key:"handleFilterChange",value:function(e,t){this.setState({filterEnglish:e,filterFrench:t})}},{key:"render",value:function(){var e;return this.props.showForm&&(e=Object(g.jsx)(F.a,{style:{width:"4rem"},children:Object(g.jsx)(K,{title:"Ajouter un jeu",component:"GameForm",handleClick:this.props.handleClick})})),Object(g.jsxs)("div",{children:[Object(g.jsx)(E.a,{striped:!0,bordered:!0,hover:!0,children:Object(g.jsx)("tbody",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:Object(g.jsx)(k,{filters:[{english:"name",french:"nom"},{english:"editor",french:"\xe9diteur"},{english:"state",french:"\xe9tat"},{english:"category",french:"cat\xe9gorie"},{english:"zone",french:"zone"}],onFilterChange:this.handleFilterChange})}),Object(g.jsx)("td",{children:Object(g.jsx)(y,{filterText:this.state.filterText,filter:{english:this.state.filterEnglish,french:this.state.filterFrench},onFilterTextChange:this.handleFilterTextChange})})]})})}),e,Object(g.jsx)(De,{response:this.props.games,filterText:this.state.filterText,filter:this.state.filterEnglish})]})}}]),n}(a.Component),Ge=n(35),Le=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={games:[],gamesBooked:[]},a.handleAddGames=a.handleAddGames.bind(Object(b.a)(a)),a.handleDelete=a.handleDelete.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;Ge.getGamesFromDB().then((function(t){e.setState({games:t})})),Ge.getFestivalGames().then((function(t){t.map((function(e){return e.editor=void 0})),e.setState({gamesBooked:t})})).then((function(){return e.state.gamesBooked.map((function(e){return Ge.getGameFromDB(e.game._id).then((function(t){return e.game=t}))}))})).then((function(){return e.setState({gamesBooked:e.state.gamesBooked})})),Ge.setHandleDelete(this.handleDelete)}},{key:"handleAddGames",value:function(e){var t=this;Ge.addGames(e).then((function(e){return e.json()})).then((function(t){return e._id=t.gameId})).then((function(){return t.state.games.push(e)})).then((function(){return t.setState({games:t.state.games})}))}},{key:"handleDelete",value:function(e){this.setState({games:this.state.games.filter((function(t){return t._id!==e}))})}},{key:"render",value:function(){return Object(g.jsxs)(ee.a,{defaultActiveKey:"allGames",children:[Object(g.jsx)(te.a,{eventKey:"allGames",title:"Jeux",children:Object(g.jsx)(Be,{games:this.state.games,handleClick:this.handleAddGames,showForm:!0})}),Object(g.jsx)(te.a,{eventKey:"festivalGames",title:"Jeu du festival",children:Object(g.jsx)(Be,{games:this.state.gamesBooked,showForm:!1})})]})}}]),n}(a.Component),Ae=n(64),Ne=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).rows=[],a.state={rows:[]},a}return Object(j.a)(n,[{key:"render",value:function(){var e;return"name"===this.props.filter&&(e=Ae.filterZonesByName(this.props.response,this.props.filterText.toLowerCase())),Object(g.jsxs)(E.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Nom de la zone"}),Object(g.jsx)("th",{children:"Capacit\xe9 en m\xb2"}),Object(g.jsx)("th",{})]})}),Object(g.jsx)("tbody",{children:e})]})}}]),n}(a.Component),Pe=n(64),He=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={zones:[],filterText:"",filterEnglish:"name",filterFrench:"nom"},a.handleFilterTextChange=a.handleFilterTextChange.bind(Object(b.a)(a)),a.handleFilterChange=a.handleFilterChange.bind(Object(b.a)(a)),a.handleAddZone=a.handleAddZone.bind(Object(b.a)(a)),a.handleDelete=a.handleDelete.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;Pe.getZonesFromDB().then((function(t){return e.setState({zones:t})})),Pe.setHandleDelete(this.handleDelete)}},{key:"handleFilterTextChange",value:function(e){this.setState({filterText:e})}},{key:"handleFilterChange",value:function(e,t){this.setState({filterEnglish:e,filterFrench:t})}},{key:"handleAddZone",value:function(e){var t=this;Pe.addZones(e).then((function(e){return e.json()})).then((function(e){return t.state.zones.push(e)})).then((function(){return t.setState({zones:t.state.zones})}))}},{key:"handleDelete",value:function(e){this.setState({zones:this.state.zones.filter((function(t){return t._id!==e}))})}},{key:"render",value:function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)(E.a,{striped:!0,bordered:!0,hover:!0,children:Object(g.jsx)("tbody",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:Object(g.jsx)(k,{filters:[{english:"name",french:"nom"}],onFilterChange:this.handleFilterChange})}),Object(g.jsx)("td",{children:Object(g.jsx)(y,{filterText:this.state.filterText,filter:{english:this.state.filterEnglish,french:this.state.filterFrench},onFilterTextChange:this.handleFilterTextChange})})]})})}),Object(g.jsx)(F.a,{style:{width:"4rem"},children:Object(g.jsx)(K,{title:"Ajouter une zone",component:"ZoneForm",handleClick:this.handleAddZone})}),Object(g.jsx)(Ne,{response:this.state.zones,filterText:this.state.filterText,filter:this.state.filterEnglish})]})}}]),n}(a.Component),ze=n(64),Re=n(35),Ue=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={_id:"",label:"",sm_capacity:"",games:[]},a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.submit=a.submit.bind(Object(b.a)(a)),a.handleAddGame=a.handleAddGame.bind(Object(b.a)(a)),a.handleDeleteGame=a.handleDeleteGame.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;ze.getZoneFromDB(window.location.href.split("/")[5]).then((function(t){return e.setState({_id:t._id,label:t.label,sm_capacity:t.sm_capacity,gamesId:t.games})})).then((function(){return e.state.gamesId.map((function(t){return Re.getGameFromDB(t.game).then((function(t){return e.state.games.push(t)})).then((function(){return e.setState({games:e.state.games})}))}))})),Re.setHandleDelete(this.handleDeleteGame)}},{key:"handleAddGame",value:function(e){this.state.games.push(e),this.setState({games:this.state.games})}},{key:"handleDeleteGame",value:function(e){this.setState({games:this.state.games.filter((function(t){return t._id!==e.target.name}))})}},{key:"handleChange",value:function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;this.setState(Object(l.a)({},a,n))}},{key:"submit",value:function(){var e=this;this.state.gamesId=void 0,this.state.games=this.state.games.map((function(e){return{game:e._id}})),ze.updateZone(this.state).then((function(){return e.setState({redirect:"/nav/zones"})}))}},{key:"render",value:function(){return this.state.redirect?Object(g.jsx)(h.a,{to:this.state.redirect}):Object(g.jsxs)(p.a,{style:{margin:"1em"},children:[Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Nom de zones"}),Object(g.jsx)(x.a,{as:"input",value:this.state.label,type:"text",onChange:this.handleChange,name:"label"})]}),Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Capacit\xe9"}),Object(g.jsx)(x.a,{as:"input",value:this.state.sm_capacity,type:"text",onChange:this.handleChange,name:"sm_capacity"})]}),Object(g.jsxs)(G.a,{children:[Object(g.jsx)(p.a.Label,{children:"Jeux de la zone"}),Object(g.jsx)(F.a,{style:{width:"4rem"},children:Object(g.jsx)(K,{title:"Ajouter un jeu \xe0 la zone",component:"GameZoneForm",zone:this.state._id,handleClick:this.handleAddGame})}),Object(g.jsx)(De,{response:this.state.games,zone:this.state._id})]}),Object(g.jsx)(v.a,{onClick:this.submit,variant:"outline-success",children:"Sauvegarder"})]})}}]),n}(a.Component);var Ie=function(){return Object(g.jsx)(d.a,{children:Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(h.b,{path:"/nav",children:Object(g.jsxs)(c.a,{expand:"lg",bg:"dark",variant:"dark",children:[Object(g.jsx)(c.a.Brand,{href:"/nav/festivals",children:"Le festival du jeu"}),Object(g.jsx)(c.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(g.jsxs)(c.a.Collapse,{id:"responsive-navbar-nav",children:[Object(g.jsxs)(o.a,{className:"mr-auto",children:[Object(g.jsx)(o.a.Link,{href:"/nav/festivals",children:"Festivals"}),Object(g.jsx)(o.a.Link,{href:"/nav/jeux",children:"Jeux"}),Object(g.jsx)(o.a.Link,{href:"/nav/editeurs",children:"\xc9diteur"}),Object(g.jsx)(o.a.Link,{href:"/nav/reservations",children:"R\xe9servations"}),Object(g.jsx)(o.a.Link,{href:"/nav/zones",children:"Zones"}),Object(g.jsx)(o.a.Link,{href:"/nav/factures",children:"Factures"})]}),Object(g.jsx)(o.a,{children:Object(g.jsx)(o.a.Link,{href:"/",children:"Deconnexion"})})]})]})}),Object(g.jsxs)(h.d,{children:[Object(g.jsx)(h.b,{exact:!0,path:"/",children:Object(g.jsx)(h.a,{to:"/login"})}),Object(g.jsx)(h.b,{path:"/login",component:C}),Object(g.jsx)(h.b,{path:"/nav/festivals",children:Object(g.jsx)(Y,{})}),Object(g.jsx)(h.b,{path:"/nav/editeurs",children:Object(g.jsx)(oe,{})}),Object(g.jsx)(h.b,{path:"/nav/editeur/:id",children:Object(g.jsx)(_e,{})}),Object(g.jsx)(h.b,{path:"/nav/jeux",children:Object(g.jsx)(Le,{})}),Object(g.jsx)(h.b,{path:"/nav/jeu/:id",children:Object(g.jsx)(ye,{})}),Object(g.jsx)(h.b,{path:"/nav/reservations",children:Object(g.jsx)(me,{})}),Object(g.jsx)(h.b,{path:"/nav/reservation/:id",children:Object(g.jsx)(we,{})}),Object(g.jsx)(h.b,{path:"/nav/zones",children:Object(g.jsx)(He,{})}),Object(g.jsx)(h.b,{path:"/nav/zone/:id",children:Object(g.jsx)(Ue,{})}),Object(g.jsx)(h.b,{path:"/nav/factures",children:Object(g.jsx)($,{})})]})]})})},Ze=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,105)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),r(e),s(e)}))};s.a.render(Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(Ie,{})}),document.getElementById("root")),Ze()}},[[95,1,2]]]);
//# sourceMappingURL=main.43e0fa4b.chunk.js.map